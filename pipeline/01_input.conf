input {
    if [logstash_output_mode] != "debug" {
        kinesis {
            kinesis_stream_name => "aws-waf-logs-isc-${ENGINEER_ENV}cloudfront"
            application_name => "${COMPONENT_NAME}-logstash-isc-cloudfront-waf-${ENVIRONMENT}"
            type => "isc-cloudfront-waf"
            region => "eu-west-2"
            codec => json { }
        }

        kinesis {
            kinesis_stream_name => "aws-waf-logs-isc-${ENGINEER_ENV}filter-proxy"
            application_name => "${COMPONENT_NAME}-logstash-isc-filter-proxy-waf-${ENVIRONMENT}"
            type => "isc-filter-proxy-waf"
            region => "eu-west-2"
            codec => json { }
        }

        kinesis {
            kinesis_stream_name => "aws-access-logs-isc-${ENGINEER_ENV}cloudfront"
            application_name => "${COMPONENT_NAME}-logstash-isc-cloudfront-standard-access-logs-${ENVIRONMENT}"
            type => "isc-cloudfront-standard-access-logs"
            region => "eu-west-2"
            codec => "plain"
        }

        kinesis {
            kinesis_stream_name => "aws-waf-logs-isc-${ENGINEER_ENV}external-filter-proxy"
            application_name => "${COMPONENT_NAME}-logstash-isc-external-filter-proxy-waf-${ENVIRONMENT}"
            type => "isc-external-filter-proxy-waf"
            region => "eu-west-2"
            codec => json { }
        }
    }

    if [logstash_output_mode] == "debug" {
        file {
            path => "/usr/share/logstash/test-log.json"
        }
    }
}
